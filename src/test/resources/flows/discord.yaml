id: discord
namespace: io.kestra.tests

inputs:
  - name: url
    type: STRING

listeners:
  - tasks:
      - id: discord
        type: io.kestra.plugin.notifications.discord.DiscordExecution
        url: "{{ inputs.url }}/webhook-unit-test"
        title: "Kestra Discord notification"
        username: "someUser"
        content: "A message *with some bold text* and _some italicized text_."
        description: "his is a mrkdwn section block :ghost: *this is bold*, and ~this is crossed out~, and <https://google.com|this is a link>"

tasks:
  - id: seq
    type: io.kestra.core.tasks.flows.Sequential
    tasks:
    - id: failed
      type: io.kestra.core.tasks.executions.Fail
